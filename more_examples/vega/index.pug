head
   include headFrag
   script. 

body
   #vis

   script.
   
      // https://vega.github.io/vega-lite/tutorials/getting_started.html
      // colors: https://vega.github.io/vega/docs/schemes
      var data = {
            "values": [
               {"a": "C", "b": 2},
               {"a": "C", "b": 7},
               {"a": "C", "b": 4},
               {"a": "D", "b": 1},
               {"a": "D", "b": 2},
               {"a": "D", "b": 6},
               {"a": "E", "b": 8},
               {"a": "E", "b": 4},
               {"a": "E", "b": 7}
            ]
         }

      var spec = {
         "$schema": "https://vega.github.io/schema/vega-lite/v3.json"
         ,mark: 'bar'
         ,encoding: {
            "y": {
               "field": "a"
               ,"type": "nominal"
               ,"axis": {"title": "Type"}
            }
            ,"x": {
               "aggregate": "average"
               ,"field": "b"
               ,"type": "quantitative"
               ,"axis": {"title": "Mean"}
            }
         }
      }

      spec.data = data
      function graph() {
         var pro = vegaEmbed('#vis', spec, {defaultStyle: false, actions: false, renderer: 'svg' })
      }
      depp.require('vega', function(){
         graph()      
      })
